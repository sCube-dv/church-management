# ========================================================
# API Routes Test File
# Sistema de Gerenciamento de Igrejas
# ========================================================

@baseUrl = http://localhost:3000
@token = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZF91c2VyIjoiMTQ0NWM2ZDktNzg1OC00ZWNjLTlmN2YtMGU3OGU0MzhlNjkxIiwiaWF0IjoxNzY5MzE0MTA3LCJleHAiOjE3NjkzMTc3MDd9.imKfF9ZpErFgu-MjuycNN3IMW49JO6370tWb2CpyU3E

# ========================================================
#                    AUTENTICAÇÃO
# ========================================================

###
# Login de usuário
POST {{baseUrl}}/api/users/login
Content-Type: application/json

{
    "username": "admin",
    "password": "admin@123"
}

# ========================================================
#                    USUÁRIOS (tb_users)
# ========================================================

###
# Criar novo usuário
POST {{baseUrl}}/api/users/create
Content-Type: application/json
Authorization: Bearer {{token}}

{
    "username": "visitante",
    "password": "visitante@123",
    "email": "visitante@church.com",
    "role": "guest"
}

###
# Listar todos os usuários (REQUER AUTENTICAÇÃO)
GET {{baseUrl}}/api/users/get-all
Authorization: Bearer {{token}}

###
# Buscar usuário por ID
GET {{baseUrl}}/api/users/get/404e1032-cfa6-4fdf-83b6-c852e32d71e2
Authorization: Bearer {{token}}

###
# Atualizar usuário
PUT {{baseUrl}}/api/users/update/404e1032-cfa6-4fdf-83b6-c852e32d71e2
Content-Type: application/json
Authorization: Bearer {{token}}

{
    // "username": "usuario_atualizado",
    // "email": "atualizado@church.com",
    "role": "admin"
}

###
# Deletar usuário (soft delete)
DELETE {{baseUrl}}/api/users/delete/10d5920c-30fa-499c-ba81-7b8e6d8e23af
Authorization: Bearer {{token}}

###
# Ativar usuário
PATCH {{baseUrl}}/api/users/activate/10d5920c-30fa-499c-ba81-7b8e6d8e23af
Authorization: Bearer {{token}}

###
# Deletar usuário permanentemente (hard delete)
DELETE {{baseUrl}}/api/users/delete/10d5920c-30fa-499c-ba81-7b8e6d8e23af/hard
Authorization: Bearer {{token}}


# ========================================================
#                    NOTAS
# ========================================================
# 
# 1. Substitua {{token}} pelo token JWT recebido no login
# 2. Use UUIDs válidos existentes no banco de dados
# 3. Rotas marcadas com "REQUER AUTENTICAÇÃO" precisam do header Authorization
# 4. Para testar, use extensões como REST Client (VS Code)
#
# ========================================================